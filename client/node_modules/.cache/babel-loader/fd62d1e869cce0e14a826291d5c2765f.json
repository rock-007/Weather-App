{"ast":null,"code":"var _jsxFileName = \"/Users/umairRocks/codeclan_work/week_09/weather-app/client/src/Containers/WeatherContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport WeekForecast from \"../Components/WeekForecast\";\nimport SearchForm from \"../Components/SearchForm\";\nimport SelectedDayForecast from \"../Components/SelectedDayForecast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst WeatherContainer = () => {\n  _s();\n\n  const [weekForecast, setWeekForecast] = useState([]);\n  const [dayForecast, setDayForecast] = useState([]);\n  const [selectedCity, setSelectedCity] = useState(null);\n  const [selectedDay, setSelectedDay] = useState(null);\n  useEffect(() => {\n    if (selectedCity != null) {\n      getForecasts(selectedCity);\n    }\n  }, [selectedCity]);\n\n  const getForecasts = function (selectedCity) {\n    const dayForecastApi = `http://pro.openweathermap.org/data/2.5/forecast/hourly?q=${selectedCity}&appid=3031aac4ff517ddfc83b94a403d374b0`;\n    const weekForecastApi = `http://api.openweathermap.org/data/2.5/forecast?q=${selectedCity}&appid=1a9a20046a26886e891582ce46507106`;\n    Promise.all([fetch(dayForecastApi), fetch(weekForecastApi)]).then(res => {\n      return Promise.all(res.map(function (res) {\n        return res.json();\n      }));\n    }).then(result => {\n      setDayForecast(result[0]);\n      setWeekForecast(result[1].list);\n    });\n  };\n\n  const onCitySubmit = function (city) {\n    setSelectedCity(city);\n    setSelectedDay([]);\n  };\n\n  const onSelectedDaySubmit = function (day) {\n    setSelectedDay(day);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(SearchForm, {\n      onCitySubmit: onCitySubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), selectedDay != null ? /*#__PURE__*/_jsxDEV(SelectedDayForecast, {\n      dayForecast: dayForecast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 36\n    }, this) : null, selectedCity != null ? /*#__PURE__*/_jsxDEV(WeekForecast, {\n      weekForecast: weekForecast,\n      onSelectedDaySubmit: onSelectedDaySubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 37\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s(WeatherContainer, \"f6BCnIVONkA+wHolpycmFkEiABo=\");\n\n_c = WeatherContainer;\nexport default WeatherContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"WeatherContainer\");","map":{"version":3,"sources":["/Users/umairRocks/codeclan_work/week_09/weather-app/client/src/Containers/WeatherContainer.js"],"names":["React","useState","useEffect","WeekForecast","SearchForm","SelectedDayForecast","WeatherContainer","weekForecast","setWeekForecast","dayForecast","setDayForecast","selectedCity","setSelectedCity","selectedDay","setSelectedDay","getForecasts","dayForecastApi","weekForecastApi","Promise","all","fetch","then","res","map","json","result","list","onCitySubmit","city","onSelectedDaySubmit","day"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,mBAAP,MAAgC,mCAAhC;;;AAEA,MAAMC,gBAAgB,GAAG,MAAM;AAAA;;AAC3B,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACQ,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACU,YAAD,EAAeC,eAAf,IAAkCX,QAAQ,CAAC,IAAD,CAAhD;AACA,QAAM,CAACY,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAC,IAAD,CAA9C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIS,YAAY,IAAI,IAApB,EAA0B;AACtBI,MAAAA,YAAY,CAACJ,YAAD,CAAZ;AACH;AACJ,GAJQ,EAIN,CAACA,YAAD,CAJM,CAAT;;AAQA,QAAMI,YAAY,GAAG,UAAUJ,YAAV,EAAwB;AACzC,UAAMK,cAAc,GAAI,4DAA2DL,YAAa,yCAAhG;AACA,UAAMM,eAAe,GAAI,qDAAoDN,YAAa,yCAA1F;AAEAO,IAAAA,OAAO,CAACC,GAAR,CAAY,CAACC,KAAK,CAACJ,cAAD,CAAN,EAAwBI,KAAK,CAACH,eAAD,CAA7B,CAAZ,EACKI,IADL,CACWC,GAAD,IAAS;AACX,aAAOJ,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,GAAJ,CAAQ,UAAUD,GAAV,EAAe;AAAC,eAAOA,GAAG,CAACE,IAAJ,EAAP;AAAkB,OAA1C,CAAZ,CAAP;AACH,KAHL,EAIKH,IAJL,CAIWI,MAAD,IAAY;AACdf,MAAAA,cAAc,CAACe,MAAM,CAAC,CAAD,CAAP,CAAd;AACAjB,MAAAA,eAAe,CAACiB,MAAM,CAAC,CAAD,CAAN,CAAUC,IAAX,CAAf;AACH,KAPL;AASH,GAbD;;AAeA,QAAMC,YAAY,GAAG,UAAUC,IAAV,EAAgB;AACjChB,IAAAA,eAAe,CAACgB,IAAD,CAAf;AACAd,IAAAA,cAAc,CAAC,EAAD,CAAd;AACH,GAHD;;AAKA,QAAMe,mBAAmB,GAAG,UAAUC,GAAV,EAAe;AACvChB,IAAAA,cAAc,CAACgB,GAAD,CAAd;AACH,GAFD;;AAIA,sBACI;AAAA,4BACI,QAAC,UAAD;AAAY,MAAA,YAAY,EAAEH;AAA1B;AAAA;AAAA;AAAA;AAAA,YADJ,EAEKd,WAAW,IAAI,IAAf,gBAAsB,QAAC,mBAAD;AAAqB,MAAA,WAAW,EAAIJ;AAApC;AAAA;AAAA;AAAA;AAAA,YAAtB,GAA2E,IAFhF,EAGKE,YAAY,IAAI,IAAhB,gBAAuB,QAAC,YAAD;AAAc,MAAA,YAAY,EAAEJ,YAA5B;AAA0C,MAAA,mBAAmB,EAAEsB;AAA/D;AAAA;AAAA;AAAA;AAAA,YAAvB,GAA+G,IAHpH;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH,CA7CD;;GAAMvB,gB;;KAAAA,gB;AA+CN,eAAeA,gBAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport WeekForecast from \"../Components/WeekForecast\";\nimport SearchForm from \"../Components/SearchForm\";\nimport SelectedDayForecast from \"../Components/SelectedDayForecast\";\n\nconst WeatherContainer = () => {\n    const [weekForecast, setWeekForecast] = useState([]);\n    const [dayForecast, setDayForecast] = useState([]);\n    const [selectedCity, setSelectedCity] = useState(null);\n    const [selectedDay, setSelectedDay] = useState(null);\n\n    useEffect(() => {\n        if (selectedCity != null) {\n            getForecasts(selectedCity);\n        }\n    }, [selectedCity]);\n\n\n\n    const getForecasts = function (selectedCity) {\n        const dayForecastApi = `http://pro.openweathermap.org/data/2.5/forecast/hourly?q=${selectedCity}&appid=3031aac4ff517ddfc83b94a403d374b0`;\n        const weekForecastApi = `http://api.openweathermap.org/data/2.5/forecast?q=${selectedCity}&appid=1a9a20046a26886e891582ce46507106`;\n        \n        Promise.all([fetch(dayForecastApi), fetch(weekForecastApi)])\n            .then((res) => {\n                return Promise.all(res.map(function (res) {return res.json()}))\n            })\n            .then((result) => {\n                setDayForecast(result[0]);\n                setWeekForecast(result[1].list)   \n            }); \n    \n    };\n\n    const onCitySubmit = function (city) {\n        setSelectedCity(city);\n        setSelectedDay([]);\n    };\n\n    const onSelectedDaySubmit = function (day) {\n        setSelectedDay(day)\n    };\n\n    return (\n        <div>\n            <SearchForm onCitySubmit={onCitySubmit} />\n            {selectedDay != null ? <SelectedDayForecast dayForecast = {dayForecast}/> : null}\n            {selectedCity != null ? <WeekForecast weekForecast={weekForecast} onSelectedDaySubmit={onSelectedDaySubmit}/> : null}\n        </div>\n    );\n};\n\nexport default WeatherContainer;\n"]},"metadata":{},"sourceType":"module"}